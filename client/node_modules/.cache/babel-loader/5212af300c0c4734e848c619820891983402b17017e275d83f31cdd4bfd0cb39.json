{"ast":null,"code":"var _jsxFileName = \"/workspaces/tradewars/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Login from './components/Login';\nimport CountrySelection from './components/CountrySelection';\nimport Dashboard from './components/Dashboard';\nimport GamePlay from './components/GamePlay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [screen, setScreen] = useState('login'); // login, country-select, dashboard, gameplay\n  const [playerName, setPlayerName] = useState('');\n  const [gameId, setGameId] = useState(null);\n  const [gameState, setGameState] = useState(null);\n  const [countries, setCountries] = useState({});\n  useEffect(() => {\n    // Load available countries\n    fetch('/api/countries').then(res => {\n      if (!res.ok) {\n        throw new Error('Fehler beim Laden der Länder');\n      }\n      return res.json();\n    }).then(data => {\n      console.log('Länder geladen:', data);\n      setCountries(data);\n    }).catch(err => {\n      console.error('Error loading countries:', err);\n      alert('❌ Fehler beim Laden der Länder. Bitte stelle sicher, dass der Server läuft.');\n    });\n  }, []);\n  const handleLogin = name => {\n    setPlayerName(name);\n    setScreen('country-select');\n  };\n  const handleCountrySelect = async countryId => {\n    try {\n      const response = await fetch('/api/game/create', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          playerName,\n          countryId\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Fehler beim Erstellen des Spiels');\n      }\n      const data = await response.json();\n      setGameId(data.gameId);\n      setGameState(data.game);\n      setScreen('dashboard');\n    } catch (err) {\n      console.error('Error creating game:', err);\n      alert('❌ Fehler beim Laden des Spiels. Bitte versuche es erneut.\\n\\nStelle sicher, dass der Server läuft (Port 3001).');\n    }\n  };\n  const handleStartRound = () => {\n    setScreen('gameplay');\n  };\n  const handleDecisionMade = async decisions => {\n    try {\n      const response = await fetch(`/api/game/${gameId}/decision`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(decisions)\n      });\n      const data = await response.json();\n      setGameState(data.game);\n      setScreen('dashboard');\n\n      // Show round results\n      alert(data.roundResult.feedback.join('\\n\\n'));\n    } catch (err) {\n      console.error('Error submitting decision:', err);\n    }\n  };\n  const refreshGameState = async () => {\n    if (!gameId) return;\n    try {\n      const response = await fetch(`/api/game/${gameId}`);\n      const data = await response.json();\n      setGameState(data);\n    } catch (err) {\n      console.error('Error refreshing game:', err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [screen === 'login' && /*#__PURE__*/_jsxDEV(Login, {\n      onLogin: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), screen === 'country-select' && /*#__PURE__*/_jsxDEV(CountrySelection, {\n      countries: countries,\n      onSelect: handleCountrySelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this), screen === 'dashboard' && gameState && /*#__PURE__*/_jsxDEV(Dashboard, {\n      gameState: gameState,\n      onStartRound: handleStartRound,\n      onRefresh: refreshGameState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this), screen === 'gameplay' && gameState && /*#__PURE__*/_jsxDEV(GamePlay, {\n      gameState: gameState,\n      onDecisionMade: handleDecisionMade\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"W+s0lE/nyO+83heNzp8IG99KRPI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Login","CountrySelection","Dashboard","GamePlay","jsxDEV","_jsxDEV","App","_s","screen","setScreen","playerName","setPlayerName","gameId","setGameId","gameState","setGameState","countries","setCountries","fetch","then","res","ok","Error","json","data","console","log","catch","err","error","alert","handleLogin","name","handleCountrySelect","countryId","response","method","headers","body","JSON","stringify","game","handleStartRound","handleDecisionMade","decisions","roundResult","feedback","join","refreshGameState","className","children","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","onSelect","onStartRound","onRefresh","onDecisionMade","_c","$RefreshReg$"],"sources":["/workspaces/tradewars/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Login from './components/Login';\nimport CountrySelection from './components/CountrySelection';\nimport Dashboard from './components/Dashboard';\nimport GamePlay from './components/GamePlay';\n\nfunction App() {\n  const [screen, setScreen] = useState('login'); // login, country-select, dashboard, gameplay\n  const [playerName, setPlayerName] = useState('');\n  const [gameId, setGameId] = useState(null);\n  const [gameState, setGameState] = useState(null);\n  const [countries, setCountries] = useState({});\n\n  useEffect(() => {\n    // Load available countries\n    fetch('/api/countries')\n      .then(res => {\n        if (!res.ok) {\n          throw new Error('Fehler beim Laden der Länder');\n        }\n        return res.json();\n      })\n      .then(data => {\n        console.log('Länder geladen:', data);\n        setCountries(data);\n      })\n      .catch(err => {\n        console.error('Error loading countries:', err);\n        alert('❌ Fehler beim Laden der Länder. Bitte stelle sicher, dass der Server läuft.');\n      });\n  }, []);\n\n  const handleLogin = (name) => {\n    setPlayerName(name);\n    setScreen('country-select');\n  };\n\n  const handleCountrySelect = async (countryId) => {\n    try {\n      const response = await fetch('/api/game/create', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ playerName, countryId })\n      });\n      \n      if (!response.ok) {\n        throw new Error('Fehler beim Erstellen des Spiels');\n      }\n      \n      const data = await response.json();\n      setGameId(data.gameId);\n      setGameState(data.game);\n      setScreen('dashboard');\n    } catch (err) {\n      console.error('Error creating game:', err);\n      alert('❌ Fehler beim Laden des Spiels. Bitte versuche es erneut.\\n\\nStelle sicher, dass der Server läuft (Port 3001).');\n    }\n  };\n\n  const handleStartRound = () => {\n    setScreen('gameplay');\n  };\n\n  const handleDecisionMade = async (decisions) => {\n    try {\n      const response = await fetch(`/api/game/${gameId}/decision`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(decisions)\n      });\n      const data = await response.json();\n      setGameState(data.game);\n      setScreen('dashboard');\n      \n      // Show round results\n      alert(data.roundResult.feedback.join('\\n\\n'));\n    } catch (err) {\n      console.error('Error submitting decision:', err);\n    }\n  };\n\n  const refreshGameState = async () => {\n    if (!gameId) return;\n    try {\n      const response = await fetch(`/api/game/${gameId}`);\n      const data = await response.json();\n      setGameState(data);\n    } catch (err) {\n      console.error('Error refreshing game:', err);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {screen === 'login' && (\n        <Login onLogin={handleLogin} />\n      )}\n      {screen === 'country-select' && (\n        <CountrySelection \n          countries={countries}\n          onSelect={handleCountrySelect}\n        />\n      )}\n      {screen === 'dashboard' && gameState && (\n        <Dashboard \n          gameState={gameState}\n          onStartRound={handleStartRound}\n          onRefresh={refreshGameState}\n        />\n      )}\n      {screen === 'gameplay' && gameState && (\n        <GamePlay \n          gameState={gameState}\n          onDecisionMade={handleDecisionMade}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,gBAAgB,MAAM,+BAA+B;AAC5D,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,QAAQ,MAAM,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACd;IACAmB,KAAK,CAAC,gBAAgB,CAAC,CACpBC,IAAI,CAACC,GAAG,IAAI;MACX,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;QACX,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;MACjD;MACA,OAAOF,GAAG,CAACG,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC,CACDJ,IAAI,CAACK,IAAI,IAAI;MACZC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,IAAI,CAAC;MACpCP,YAAY,CAACO,IAAI,CAAC;IACpB,CAAC,CAAC,CACDG,KAAK,CAACC,GAAG,IAAI;MACZH,OAAO,CAACI,KAAK,CAAC,0BAA0B,EAAED,GAAG,CAAC;MAC9CE,KAAK,CAAC,6EAA6E,CAAC;IACtF,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,WAAW,GAAIC,IAAI,IAAK;IAC5BrB,aAAa,CAACqB,IAAI,CAAC;IACnBvB,SAAS,CAAC,gBAAgB,CAAC;EAC7B,CAAC;EAED,MAAMwB,mBAAmB,GAAG,MAAOC,SAAS,IAAK;IAC/C,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAAC,kBAAkB,EAAE;QAC/CkB,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAE9B,UAAU;UAAEwB;QAAU,CAAC;MAChD,CAAC,CAAC;MAEF,IAAI,CAACC,QAAQ,CAACd,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,kCAAkC,CAAC;MACrD;MAEA,MAAME,IAAI,GAAG,MAAMW,QAAQ,CAACZ,IAAI,CAAC,CAAC;MAClCV,SAAS,CAACW,IAAI,CAACZ,MAAM,CAAC;MACtBG,YAAY,CAACS,IAAI,CAACiB,IAAI,CAAC;MACvBhC,SAAS,CAAC,WAAW,CAAC;IACxB,CAAC,CAAC,OAAOmB,GAAG,EAAE;MACZH,OAAO,CAACI,KAAK,CAAC,sBAAsB,EAAED,GAAG,CAAC;MAC1CE,KAAK,CAAC,gHAAgH,CAAC;IACzH;EACF,CAAC;EAED,MAAMY,gBAAgB,GAAGA,CAAA,KAAM;IAC7BjC,SAAS,CAAC,UAAU,CAAC;EACvB,CAAC;EAED,MAAMkC,kBAAkB,GAAG,MAAOC,SAAS,IAAK;IAC9C,IAAI;MACF,MAAMT,QAAQ,GAAG,MAAMjB,KAAK,CAAC,aAAaN,MAAM,WAAW,EAAE;QAC3DwB,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACI,SAAS;MAChC,CAAC,CAAC;MACF,MAAMpB,IAAI,GAAG,MAAMW,QAAQ,CAACZ,IAAI,CAAC,CAAC;MAClCR,YAAY,CAACS,IAAI,CAACiB,IAAI,CAAC;MACvBhC,SAAS,CAAC,WAAW,CAAC;;MAEtB;MACAqB,KAAK,CAACN,IAAI,CAACqB,WAAW,CAACC,QAAQ,CAACC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC/C,CAAC,CAAC,OAAOnB,GAAG,EAAE;MACZH,OAAO,CAACI,KAAK,CAAC,4BAA4B,EAAED,GAAG,CAAC;IAClD;EACF,CAAC;EAED,MAAMoB,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI,CAACpC,MAAM,EAAE;IACb,IAAI;MACF,MAAMuB,QAAQ,GAAG,MAAMjB,KAAK,CAAC,aAAaN,MAAM,EAAE,CAAC;MACnD,MAAMY,IAAI,GAAG,MAAMW,QAAQ,CAACZ,IAAI,CAAC,CAAC;MAClCR,YAAY,CAACS,IAAI,CAAC;IACpB,CAAC,CAAC,OAAOI,GAAG,EAAE;MACZH,OAAO,CAACI,KAAK,CAAC,wBAAwB,EAAED,GAAG,CAAC;IAC9C;EACF,CAAC;EAED,oBACEvB,OAAA;IAAK4C,SAAS,EAAC,KAAK;IAAAC,QAAA,GACjB1C,MAAM,KAAK,OAAO,iBACjBH,OAAA,CAACL,KAAK;MAACmD,OAAO,EAAEpB;IAAY;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAC/B,EACA/C,MAAM,KAAK,gBAAgB,iBAC1BH,OAAA,CAACJ,gBAAgB;MACfe,SAAS,EAAEA,SAAU;MACrBwC,QAAQ,EAAEvB;IAAoB;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/B,CACF,EACA/C,MAAM,KAAK,WAAW,IAAIM,SAAS,iBAClCT,OAAA,CAACH,SAAS;MACRY,SAAS,EAAEA,SAAU;MACrB2C,YAAY,EAAEf,gBAAiB;MAC/BgB,SAAS,EAAEV;IAAiB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CACF,EACA/C,MAAM,KAAK,UAAU,IAAIM,SAAS,iBACjCT,OAAA,CAACF,QAAQ;MACPW,SAAS,EAAEA,SAAU;MACrB6C,cAAc,EAAEhB;IAAmB;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAChD,EAAA,CAhHQD,GAAG;AAAAsD,EAAA,GAAHtD,GAAG;AAkHZ,eAAeA,GAAG;AAAC,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}