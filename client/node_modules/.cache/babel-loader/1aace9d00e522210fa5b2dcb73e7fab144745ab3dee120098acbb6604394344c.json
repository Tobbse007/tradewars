{"ast":null,"code":"var _jsxFileName = \"/workspaces/tradewars/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Login from './components/Login';\nimport CountrySelection from './components/CountrySelection';\nimport Dashboard from './components/Dashboard';\nimport GamePlay from './components/GamePlay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [screen, setScreen] = useState('login'); // login, country-select, dashboard, gameplay\n  const [playerName, setPlayerName] = useState('');\n  const [gameId, setGameId] = useState(null);\n  const [gameState, setGameState] = useState(null);\n  const [countries, setCountries] = useState({});\n  useEffect(() => {\n    // Load available countries\n    fetch('/api/countries').then(res => res.json()).then(data => setCountries(data)).catch(err => console.error('Error loading countries:', err));\n  }, []);\n  const handleLogin = name => {\n    setPlayerName(name);\n    setScreen('country-select');\n  };\n  const handleCountrySelect = async countryId => {\n    try {\n      const response = await fetch('/api/game/create', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          playerName,\n          countryId\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Fehler beim Erstellen des Spiels');\n      }\n      const data = await response.json();\n      setGameId(data.gameId);\n      setGameState(data.game);\n      setScreen('dashboard');\n    } catch (err) {\n      console.error('Error creating game:', err);\n      alert('❌ Fehler beim Laden des Spiels. Bitte versuche es erneut.\\n\\nStelle sicher, dass der Server läuft (Port 3001).');\n    }\n  };\n  const handleStartRound = () => {\n    setScreen('gameplay');\n  };\n  const handleDecisionMade = async decisions => {\n    try {\n      const response = await fetch(`/api/game/${gameId}/decision`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(decisions)\n      });\n      const data = await response.json();\n      setGameState(data.game);\n      setScreen('dashboard');\n\n      // Show round results\n      alert(data.roundResult.feedback.join('\\n\\n'));\n    } catch (err) {\n      console.error('Error submitting decision:', err);\n    }\n  };\n  const refreshGameState = async () => {\n    if (!gameId) return;\n    try {\n      const response = await fetch(`/api/game/${gameId}`);\n      const data = await response.json();\n      setGameState(data);\n    } catch (err) {\n      console.error('Error refreshing game:', err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [screen === 'login' && /*#__PURE__*/_jsxDEV(Login, {\n      onLogin: handleLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), screen === 'country-select' && /*#__PURE__*/_jsxDEV(CountrySelection, {\n      countries: countries,\n      onSelect: handleCountrySelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), screen === 'dashboard' && gameState && /*#__PURE__*/_jsxDEV(Dashboard, {\n      gameState: gameState,\n      onStartRound: handleStartRound,\n      onRefresh: refreshGameState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), screen === 'gameplay' && gameState && /*#__PURE__*/_jsxDEV(GamePlay, {\n      gameState: gameState,\n      onDecisionMade: handleDecisionMade\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"W+s0lE/nyO+83heNzp8IG99KRPI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Login","CountrySelection","Dashboard","GamePlay","jsxDEV","_jsxDEV","App","_s","screen","setScreen","playerName","setPlayerName","gameId","setGameId","gameState","setGameState","countries","setCountries","fetch","then","res","json","data","catch","err","console","error","handleLogin","name","handleCountrySelect","countryId","response","method","headers","body","JSON","stringify","ok","Error","game","alert","handleStartRound","handleDecisionMade","decisions","roundResult","feedback","join","refreshGameState","className","children","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","onSelect","onStartRound","onRefresh","onDecisionMade","_c","$RefreshReg$"],"sources":["/workspaces/tradewars/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Login from './components/Login';\nimport CountrySelection from './components/CountrySelection';\nimport Dashboard from './components/Dashboard';\nimport GamePlay from './components/GamePlay';\n\nfunction App() {\n  const [screen, setScreen] = useState('login'); // login, country-select, dashboard, gameplay\n  const [playerName, setPlayerName] = useState('');\n  const [gameId, setGameId] = useState(null);\n  const [gameState, setGameState] = useState(null);\n  const [countries, setCountries] = useState({});\n\n  useEffect(() => {\n    // Load available countries\n    fetch('/api/countries')\n      .then(res => res.json())\n      .then(data => setCountries(data))\n      .catch(err => console.error('Error loading countries:', err));\n  }, []);\n\n  const handleLogin = (name) => {\n    setPlayerName(name);\n    setScreen('country-select');\n  };\n\n  const handleCountrySelect = async (countryId) => {\n    try {\n      const response = await fetch('/api/game/create', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ playerName, countryId })\n      });\n      \n      if (!response.ok) {\n        throw new Error('Fehler beim Erstellen des Spiels');\n      }\n      \n      const data = await response.json();\n      setGameId(data.gameId);\n      setGameState(data.game);\n      setScreen('dashboard');\n    } catch (err) {\n      console.error('Error creating game:', err);\n      alert('❌ Fehler beim Laden des Spiels. Bitte versuche es erneut.\\n\\nStelle sicher, dass der Server läuft (Port 3001).');\n    }\n  };\n\n  const handleStartRound = () => {\n    setScreen('gameplay');\n  };\n\n  const handleDecisionMade = async (decisions) => {\n    try {\n      const response = await fetch(`/api/game/${gameId}/decision`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(decisions)\n      });\n      const data = await response.json();\n      setGameState(data.game);\n      setScreen('dashboard');\n      \n      // Show round results\n      alert(data.roundResult.feedback.join('\\n\\n'));\n    } catch (err) {\n      console.error('Error submitting decision:', err);\n    }\n  };\n\n  const refreshGameState = async () => {\n    if (!gameId) return;\n    try {\n      const response = await fetch(`/api/game/${gameId}`);\n      const data = await response.json();\n      setGameState(data);\n    } catch (err) {\n      console.error('Error refreshing game:', err);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      {screen === 'login' && (\n        <Login onLogin={handleLogin} />\n      )}\n      {screen === 'country-select' && (\n        <CountrySelection \n          countries={countries}\n          onSelect={handleCountrySelect}\n        />\n      )}\n      {screen === 'dashboard' && gameState && (\n        <Dashboard \n          gameState={gameState}\n          onStartRound={handleStartRound}\n          onRefresh={refreshGameState}\n        />\n      )}\n      {screen === 'gameplay' && gameState && (\n        <GamePlay \n          gameState={gameState}\n          onDecisionMade={handleDecisionMade}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,gBAAgB,MAAM,+BAA+B;AAC5D,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,QAAQ,MAAM,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGX,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACY,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACkB,SAAS,EAAEC,YAAY,CAAC,GAAGnB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACd;IACAmB,KAAK,CAAC,gBAAgB,CAAC,CACpBC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACG,IAAI,IAAIL,YAAY,CAACK,IAAI,CAAC,CAAC,CAChCC,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEF,GAAG,CAAC,CAAC;EACjE,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,WAAW,GAAIC,IAAI,IAAK;IAC5BjB,aAAa,CAACiB,IAAI,CAAC;IACnBnB,SAAS,CAAC,gBAAgB,CAAC;EAC7B,CAAC;EAED,MAAMoB,mBAAmB,GAAG,MAAOC,SAAS,IAAK;IAC/C,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMb,KAAK,CAAC,kBAAkB,EAAE;QAC/Cc,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAE1B,UAAU;UAAEoB;QAAU,CAAC;MAChD,CAAC,CAAC;MAEF,IAAI,CAACC,QAAQ,CAACM,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,kCAAkC,CAAC;MACrD;MAEA,MAAMhB,IAAI,GAAG,MAAMS,QAAQ,CAACV,IAAI,CAAC,CAAC;MAClCR,SAAS,CAACS,IAAI,CAACV,MAAM,CAAC;MACtBG,YAAY,CAACO,IAAI,CAACiB,IAAI,CAAC;MACvB9B,SAAS,CAAC,WAAW,CAAC;IACxB,CAAC,CAAC,OAAOe,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;MAC1CgB,KAAK,CAAC,gHAAgH,CAAC;IACzH;EACF,CAAC;EAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;IAC7BhC,SAAS,CAAC,UAAU,CAAC;EACvB,CAAC;EAED,MAAMiC,kBAAkB,GAAG,MAAOC,SAAS,IAAK;IAC9C,IAAI;MACF,MAAMZ,QAAQ,GAAG,MAAMb,KAAK,CAAC,aAAaN,MAAM,WAAW,EAAE;QAC3DoB,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACO,SAAS;MAChC,CAAC,CAAC;MACF,MAAMrB,IAAI,GAAG,MAAMS,QAAQ,CAACV,IAAI,CAAC,CAAC;MAClCN,YAAY,CAACO,IAAI,CAACiB,IAAI,CAAC;MACvB9B,SAAS,CAAC,WAAW,CAAC;;MAEtB;MACA+B,KAAK,CAAClB,IAAI,CAACsB,WAAW,CAACC,QAAQ,CAACC,IAAI,CAAC,MAAM,CAAC,CAAC;IAC/C,CAAC,CAAC,OAAOtB,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,GAAG,CAAC;IAClD;EACF,CAAC;EAED,MAAMuB,gBAAgB,GAAG,MAAAA,CAAA,KAAY;IACnC,IAAI,CAACnC,MAAM,EAAE;IACb,IAAI;MACF,MAAMmB,QAAQ,GAAG,MAAMb,KAAK,CAAC,aAAaN,MAAM,EAAE,CAAC;MACnD,MAAMU,IAAI,GAAG,MAAMS,QAAQ,CAACV,IAAI,CAAC,CAAC;MAClCN,YAAY,CAACO,IAAI,CAAC;IACpB,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEF,GAAG,CAAC;IAC9C;EACF,CAAC;EAED,oBACEnB,OAAA;IAAK2C,SAAS,EAAC,KAAK;IAAAC,QAAA,GACjBzC,MAAM,KAAK,OAAO,iBACjBH,OAAA,CAACL,KAAK;MAACkD,OAAO,EAAEvB;IAAY;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAC/B,EACA9C,MAAM,KAAK,gBAAgB,iBAC1BH,OAAA,CAACJ,gBAAgB;MACfe,SAAS,EAAEA,SAAU;MACrBuC,QAAQ,EAAE1B;IAAoB;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC/B,CACF,EACA9C,MAAM,KAAK,WAAW,IAAIM,SAAS,iBAClCT,OAAA,CAACH,SAAS;MACRY,SAAS,EAAEA,SAAU;MACrB0C,YAAY,EAAEf,gBAAiB;MAC/BgB,SAAS,EAAEV;IAAiB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7B,CACF,EACA9C,MAAM,KAAK,UAAU,IAAIM,SAAS,iBACjCT,OAAA,CAACF,QAAQ;MACPW,SAAS,EAAEA,SAAU;MACrB4C,cAAc,EAAEhB;IAAmB;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAC/C,EAAA,CArGQD,GAAG;AAAAqD,EAAA,GAAHrD,GAAG;AAuGZ,eAAeA,GAAG;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}